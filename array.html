<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js数组</title>
</head>
<body>
<script>
        var a=10;var b=20;
        alert("a+b="+a+b);
    //相反输出
    function reverse(str) {
        str.split("-").reverse().join("");
    }
    console.log(reverse("how-you-are"));

    //连接多个数组，用逗号隔开
    var arr1 = [1, 2, 3];
    var arr2 = [4, 5, 6];
    var arr3 = [7, 8, 9];
    console.log(arr1.concat(arr2, arr3));

    //join()把数组中所有元素放入一个字符串中,再用指定符号间隔
    var arr = ["aa", "bb", "cc"];
    console.log(arr.join());         //aabbcc
    console.log(arr.join("-"));      //aa-bb-cc
    console.log(arr.join("/"));

    //toString()将数组转换为字符串
    var arr4 = ["l", "am", "angry"];
    console.log(arr4.toString());


    //pop()删除数组中最后一个元素，并返回被删除的这个元素的值，如果数组为空，返回undefined
    var num = [1, 2, 3, 4, 5];
    console.log(num.pop());          //5
    console.log(num);                //1234

    //push()向元素末尾添加一个或多个元素，一个数组只占一个长度
    // num.push(6,7,8);
    console.log(num);
    num.push(6,[8,9,10]);              //[1,2,3,4,6[8,9,10]]
    console.log(num);



    //shift()删除数组中第一个元素，并返回这个元素，数组为空，则返回undefined

    //unshift()向数组的开头添加一个或多个元素

    //split()将字符串按某个字符切割成并以数组形式返回

    //push()向数组末尾添加一个或多个元素

    //sort()顺序排序，比较的时候按照字符在字符编码中的顺序进行排序

    //reverse()颠倒顺序

    //splice(删除/添加的下标,删除的个数,要插入的新元素)用于插入删除和替换数组
    var arr6 = [0, 1, 2, 3, 4, 5, 6];
    arr6.splice(2, 0, 8);                //在下标为2的地方插入数字8，不删除任何元素
    console.log(arr6);                 //01823456

    arr6.splice(3, 2, 6);
    console.log(arr6);


    //slice()从已有数组中返回指定的元素
    var arr5 = [0, 1, 2, 3, 4, 5];
    console.log(arr5.slice(0, 3));                  //选取下标为0到3(不包括3)的元素          012
    console.log(arr5.slice(1, -1));                 //选取下标为1和倒数第一个(不包括)的元素  1234
    console.log(arr5.slice(1));                    //不指定end会包含从start开始的所有元素


    //1.数组中奇数在前，偶数在后
    var this_arr= [1,2,3,4,5,6,7]; 
    var left=[];
    var right=[];
    for(var i=0;i<this_arr.length;i++){
        if(this_arr[i]%2==0){
            right.push(this_arr[i]);
        }
        if(this_arr[i]%2 !=0){
            left.push(this_arr[i]);
        }
        var sortArr=left.concat(right);
    }
    console.log("奇数在前偶数在后"+sortArr);

    //2.数组去重
    //方法一    下标判断
    function noRepeat(obj) {
        var new_arr = [];
        for (var i = 0; i < obj.length; i++) {
            if (new_arr.indexOf(obj[i]) == -1) {      //或==i
                new_arr.push(obj[i]);
            }
        }
        return new_arr;
    }

    var obj_arr2 = [0, 1, 3, 4, 6, 8, 9, 5, 3, 8, 21, 1,3,3,5,6,8];
    console.log('数组去重方法一:'+noRepeat(obj_arr2));

    //方法二  利用sort删除相邻相同项
    function removeRepeat(obj){
        obj.sort();                             //按顺序排序，相同数字的会在一起
        for(var i =0; i<obj.length;i++){
            if(obj[i]==obj[i+1]){
                obj.splice(i--,1);
            }
        }
        return obj; 
    }
    var obj_arr4=[1,2,2,3,21,8,3,2,5,44,33,2,1,33,33,8]
    console.log('数组去重方法二:'+removeRepeat(obj_arr4));



    //3.数字从大到小排序
    function sort(a,b) {
//        return a-b;             //升序
        return b-a;              //降序
    }

    var obj_arr3 = [0, 1, 3, 4, 6, 8, 9, 5, 3, 8, 21, 1];
    console.log('数字排序:'+obj_arr3.sort(sort));



    //4.计算数组中奇数和偶数的个数
    function countNum(obj){
        var odd=0;
        var even=0;
        for(var i=0;i<obj.length;i++){
           /* if(obj[i]%2==0){
                even++;
            }
            else{
                odd++;
            }*/
            obj[i]%2==0?even++ : odd++;
        }
    console.log('奇数个数为'+odd+'偶数个数为'+even);
        
    };
    var arr7=[0,1,2,3,4,5,6];
    countNum(arr7);


    //5.随机选取10到100之间的10个数字，并排序

    var _arr=[];
    function getRandom(iStart,iEnd){
        var iChoice=iEnd-iStart;
        return Math.floor(Math.random()*iChoice+10);       //random返回[0,1)之间数字    floor向下取整
    }
    for(var i=0;i<10;i++){
        _arr.push(getRandom(10,100));
    }

    console.log('随机选取10到100中十个数'+_arr)


    //6.首字母大写
    //方法一    substring
    function toUpper(str){
        var new_str=str.toLowerCase().split(" ");
        for(var i=0 ;i <new_str.length;i++){
            new_str[i]= new_str[i].charAt(0).toUpperCase()+new_str[i].substring(1);    //substring没有结束下标表示一直取到最后
        }
        var str=new_str.join("");
        return str;
    }
    var str2="we are friends";
    console.log('首字母大写'+toUpper(str2));                 



    //方法二  replace
     function toUpper2(str){
        var new_str=str.toLowerCase().split(" ");
        for(var i=0 ;i <new_str.length;i++){
           var firstLetter=new_str[i].charAt(0);
           new_str[i]=new_str[i].replace(firstLetter,function(firstLetter){
            return firstLetter.toUpperCase();
           })
        }
        var str=new_str.join("");
        return str;
    }

    var str3="l love coffee";
    console.log('首字母大写'+toUpper2(str3));          



    //7.判断字符串中出现最多次的字符,统计次数
      var str="lalwayssssswanttolearnmoreknowlledde";
      var json={};
      for(var i=0; i<str.length;i++){
        var word=str.charAt(i);
        if(json[word]){                                 //word为json中一个属性,如果存在
            json[word]++;                               //属性值+1
        }else{
            json[word]=1;
        }
      };

      var max=0;                                        //最多的次数
      var maxWord=null;                                 //出现最多的字符
      for(var key in json){                             
        if(max<json[key]){                              
            max=json[key];                              //max始终存储最大值
        };
      }

      //为了避免几个字符的次数一样
      for(var key in json){
        if (json[key]==max) {                           //如果属性值与最大值相等的
            maxWord=key;
         console.log("次数最多的字符是:"+maxWord+"次数为:"+max);
        };
      }


      //8判断第一个偶数的位置
      var arr8=[1,5,7,4,8,7,11,33,4];
      for(var i=0;i<arr8.length;i++){
        var flag=true;
        if(arr8[i]%2==0){
            arr8[i].index=i;
            var firstEven=arr8[i];
            break;
        }
      }
      console.log("第一个偶数为："+firstEven+"第一个偶数的位置为："+i);


      //9.全部排列组合
      var count=0;  
      function show(arr) {  
        console.log("第"+ ++count+"种方法:"+arr);  
      }  
      function perm(arr) {  
        (function fn(source, result) {  
            if (source.length == 0)  
                show(result);  
            else 
                for (var i = 0; i < source.length; i++)  
                    fn(source.slice(0, i).concat(source.slice(i + 1)), result.concat(source[i]));  
            })(arr, []);  
        }  
        perm(["A", "B", "C", "D"]);  



    //indexOf()返回指定字符串首次出现的位置,不包括end    如果要检索的字符串值没有出现，则该方法返回 -1
    var str = "l love coffee";
    console.log(str.indexOf("o"));          //返回3  空格也算

    //charAt()返回指定位置的字符             如果参数 index 不在 0 与 string.length 之间，该方法将返回一个空字符串
    console.log(str.charAt(3));             //返回o  空格也算

    //charCodeAt()返回指定位置字符编码       如果 index 是负数，或大于等于字符串的长度，则 charCodeAt() 返回 NaN。
    console.log(str.charCodeAt(1));

    //substring()提取介于两个下标之间的字符   没有结束下标表示一直取到最后
    console.log(str.substring(2, 5));

    //replace()转换
    /*function toUpper(str) {
        str.substring(0,1);
    console.log(toUpper(str));

    }*/

</script>

</body>
</html>